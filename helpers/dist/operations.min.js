"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backButton=exports.resultNumber=exports.percentNumber=exports.divideNumber=exports.multiplyNumber=exports.subtractNumber=exports.addNumber=void 0;var _displayFunctions=require("./displayFunctions.js"),_status=require("./status.js"),display2=document.querySelector("#display2"),formatNumber=function(t){return parseFloat(t.replaceAll(".","").replace(",","."))},addNumber=function(){if("error"!==(0,_status.setOperation)()){if("0 - "===display2.textContent||"0 * "===display2.textContent)return"subtract"===(0,_status.setOperation)()?(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent)):(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent)),display2.textContent="".concat((0,_status.setAccumulated)()," + "),(0,_status.setCounter)(1),void(0,_status.setOperation)("add");if("0"!==displayText.textContent||"divide"!==(0,_status.setOperation)()){if(!display2.textContent&&"0"===displayText.textContent)return display2.textContent="0 + ",(0,_status.setCounter)(1),void(0,_status.setOperation)("add");if(!display2.textContent)return display2.textContent=displayText.textContent+" + ",(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),(0,_status.setCounter)(1),void(0,_status.setOperation)("add");if("add"!==(0,_status.setOperation)()&&(0,_status.setOperationStatus)())return(displayText.textContent=0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),(0,_status.setCounter)(1),(0,_status.setOperation)("add"),void(display2.textContent=(0,_status.setAccumulated)()+" + ");switch((0,_status.setOperation)()){case"result":return display2.textContent=(0,_status.setAccumulated)()+" + ",displayText.textContent="0",void(0,_status.setOperation)("add");case"subtract":(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent));break;case"divide":(0,_status.setAccumulated)((0,_status.setAccumulated)()/formatNumber(displayText.textContent));break;case"multiply":(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent));break;default:(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent))}display2.textContent=(0,_status.setAccumulated)()+" + ",displayText.textContent=(0,_status.setAccumulated)().toLocaleString("es-ES",{maximumFractionDigits:7}),(0,_status.setCounter)(1),(0,_status.setOperation)("add")}else(0,_displayFunctions.showError)()}};exports.addNumber=addNumber;var subtractNumber=function(){if(console.log((0,_status.setOperationStatus)()),"error"!==(0,_status.setOperation)()){if("0 + "===display2.textContent||"0 * "===display2.textContent)return"add"===(0,_status.setOperation)()?(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)):(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent)),display2.textContent="".concat((0,_status.setAccumulated)()," - "),(0,_status.setCounter)(1),void(0,_status.setOperation)("subtract");if("0"!==displayText.textContent||"divide"!==(0,_status.setOperation)()){if(!display2.textContent&&"0"===displayText.textContent)return display2.textContent="0 - ",(0,_status.setCounter)(1),void(0,_status.setOperation)("subtract");if(!display2.textContent)return display2.textContent=displayText.textContent+" - ",(0,_status.setAccumulated)(formatNumber(displayText.textContent)),(0,_status.setCounter)(1),void(0,_status.setOperation)("subtract");if("subtract"!==(0,_status.setOperation)()&&(0,_status.setOperationStatus)())return console.log("entro en add"),(displayText.textContent=0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),(0,_status.setCounter)(1),(0,_status.setOperation)("subtract"),void(display2.textContent=(0,_status.setAccumulated)()+" - ");switch((0,_status.setOperation)()){case"result":return display2.textContent=(0,_status.setAccumulated)()+" - ",displayText.textContent="0",void(0,_status.setOperation)("subtract");case"add":(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent));break;case"divide":(0,_status.setAccumulated)((0,_status.setAccumulated)()/formatNumber(displayText.textContent));break;case"multiply":(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent));break;default:(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent))}display2.textContent=(0,_status.setAccumulated)()+" - ",displayText.textContent=(0,_status.setAccumulated)().toLocaleString("es-ES",{maximumFractionDigits:7}),(0,_status.setCounter)(1),(0,_status.setOperation)("subtract")}else(0,_displayFunctions.showError)()}};exports.subtractNumber=subtractNumber;var multiplyNumber=function(){if("error"!==(0,_status.setOperation)()){if("0 + "===display2.textContent||"0 - "===display2.textContent)return"subtract"===(0,_status.setOperation)()?(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent)):(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),display2.textContent="".concat((0,_status.setAccumulated)()," * "),(0,_status.setCounter)(1),void(0,_status.setOperation)("multiply");if("0"!==displayText.textContent||"divide"!==(0,_status.setOperation)()){if(!display2.textContent&&"0"===displayText.textContent)return display2.textContent="0 * ",(0,_status.setCounter)(1),void(0,_status.setOperation)("multiply");if(!display2.textContent)return console.log("entro en el multi"),(0,_status.setAccumulated)(formatNumber(displayText.textContent)),display2.textContent=(0,_status.setAccumulated)()+" * ",(0,_status.setCounter)(1),void(0,_status.setOperation)("multiply");if("multiply"!==(0,_status.setOperation)()&&(0,_status.setOperationStatus)())return(displayText.textContent=0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),(0,_status.setCounter)(1),(0,_status.setOperation)("multiply"),void(display2.textContent=(0,_status.setAccumulated)()+" * ");switch((0,_status.setOperation)()){case"result":return display2.textContent=(0,_status.setAccumulated)()+" * ",displayText.textContent="0",void(0,_status.setOperation)("multiply");case"subtract":(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent));break;case"divide":(0,_status.setAccumulated)((0,_status.setAccumulated)()/formatNumber(displayText.textContent));break;case"add":(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent));break;default:(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent))}display2.textContent=(0,_status.setAccumulated)()+" * ",displayText.textContent=(0,_status.setAccumulated)().toLocaleString("es-ES",{maximumFractionDigits:7}),(0,_status.setCounter)(1),(0,_status.setOperation)("multiply")}else(0,_displayFunctions.showError)()}};exports.multiplyNumber=multiplyNumber;var divideNumber=function(){if("error"!==(0,_status.setOperation)()){if(!display2.textContent)return(0,_status.setAccumulated)(formatNumber(displayText.textContent)),display2.textContent=displayText.textContent+" / ",(0,_status.setCounter)(1),void(0,_status.setOperation)("divide");if("0"!==displayText.textContent){if("divide"!==(0,_status.setOperation)()&&(0,_status.setOperationStatus)())return(displayText.textContent=0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent)),(0,_status.setCounter)(1),(0,_status.setOperation)("divide"),void(display2.textContent=(0,_status.setAccumulated)()+" / ");switch((0,_status.setOperation)()){case"result":return display2.textContent=(0,_status.setAccumulated)()+" / ",displayText.textContent="0",void(0,_status.setOperation)("divide");case"subtract":(0,_status.setAccumulated)((0,_status.setAccumulated)()-formatNumber(displayText.textContent));break;case"add":(0,_status.setAccumulated)((0,_status.setAccumulated)()+formatNumber(displayText.textContent));break;case"multiply":(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent));break;default:(0,_status.setAccumulated)((0,_status.setAccumulated)()/formatNumber(displayText.textContent))}displayText.textContent=(0,_status.setAccumulated)().toLocaleString("es-ES",{maximumFractionDigits:7}),display2.textContent=(0,_status.setAccumulated)()+" / ",(0,_status.setCounter)(1),(0,_status.setOperation)("divide")}else(0,_displayFunctions.showError)()}};exports.divideNumber=divideNumber;var percentNumber=function(){if("error"!==(0,_status.setOperation)())if("0"!==displayText.textContent||"divide"!==(0,_status.setOperation)()){if(0===(0,_status.setAccumulated)())return displayText.textContent="0",(0,_status.setCounter)(1),void(0,_status.setOperation)("percent");if(!display2.textContent)return(display2.textContent=0,_status.setAccumulated)(0),(0,_status.setCounter)(1),void(0,_status.setOperation)("percent");var t=(0,_status.setAccumulated)()*formatNumber(displayText.textContent)/100;switch((0,_status.setOperation)()){case"result":return displayText.textContent="0",void(0,_status.setOperation)("percent");case"add":(0,_status.setAccumulated)((0,_status.setAccumulated)()+t),displayText.textContent=t,display2.textContent=display2.textContent+t;break;case"subtract":(0,_status.setAccumulated)((0,_status.setAccumulated)()-t),displayText.textContent=t,display2.textContent=display2.textContent+t;break;case"multiply":(0,_status.setAccumulated)((0,_status.setAccumulated)()*formatNumber(displayText.textContent)/100),displayText.textContent=formatNumber(displayText.textContent)/100,display2.textContent=display2.textContent+formatNumber(displayText.textContent)/10;break;case"divide":(0,_status.setAccumulated)((0,_status.setAccumulated)()/formatNumber(displayText.textContent)*100),displayText.textContent=formatNumber(displayText.textContent)/100,display2.textContent=display2.textContent+formatNumber(displayText.textContent)/10}(0,_status.setCounter)(1),(0,_status.setOperation)("percent")}else(0,_displayFunctions.showError)()};exports.percentNumber=percentNumber;var resultNumber=function(){if("error"!==(0,_status.setOperation)()&&(0,_status.setOperation)())if("0"!==displayText.textContent||"divide"!==(0,_status.setOperation)()){switch((0,_status.setOperation)()){case"add":display2.textContent.includes("=")?display2.textContent=(0,_status.setAccumulated)()+" + "+displayText.textContent+" =":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=((0,_status.setAccumulated)()+formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"subtract":"- "===display2.textContent?display2.textContent="- "+displayText.textContent:display2.textContent.includes("=")?display2.textContent=(0,_status.setAccumulated)()+" - "+displayText.textContent+" =":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=((0,_status.setAccumulated)()-formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"multiply":display2.textContent.includes("=")?display2.textContent=(0,_status.setAccumulated)()+" * "+displayText.textContent+" =":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=((0,_status.setAccumulated)()*formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"divide":display2.textContent.includes("=")?display2.textContent=(0,_status.setAccumulated)()+" / "+displayText.textContent+" =":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=((0,_status.setAccumulated)()/formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"percent":display2.textContent.includes("=")?display2.textContent=(0,_status.setAccumulated)()+" % "+displayText.textContent+" =":display2.textContent=display2.textContent+" =",displayText.textContent=(0,_status.setAccumulated)().toLocaleString("es-ES",{maximumFractionDigits:7})}(0,_status.setAccumulated)(formatNumber(displayText.textContent)),(0,_status.setOperation)("result")}else(0,_displayFunctions.showError)()};exports.resultNumber=resultNumber;var backButton=function(){"error"!==(0,_status.setOperation)()&&displayText.textContent&&(displayText.textContent.length<=1?displayText.textContent=0:displayText.textContent=displayText.textContent.slice(0,-1))};exports.backButton=backButton;
//# sourceMappingURL=operations.min.js.map
