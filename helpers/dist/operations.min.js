"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backButton=exports.showError=exports.resultNumber=exports.percentNumber=exports.divideNumber=exports.multiplyNumber=exports.subtractNumber=exports.addNumber=exports.setOperation=exports.setAccumulated=exports.setCounter=void 0;var operation,display2=document.querySelector("#display2"),accumulated=0,counter=0,formatNumber=function(t){return parseFloat(t.replaceAll(".","").replace(",","."))},setCounter=function(t){return counter=0<arguments.length&&void 0!==t?t:counter};exports.setCounter=setCounter;var setAccumulated=function(t){return accumulated=0<arguments.length&&void 0!==t?t:accumulated};exports.setAccumulated=setAccumulated;var setOperation=function(t){return operation=0<arguments.length&&void 0!==t?t:operation};exports.setOperation=setOperation;var addNumber=function(){if("0"!==displayText.textContent||"divide"!==operation){if("result"===operation)return displayText.textContent="0",void(operation="add");if(!display2.textContent)return display2.textContent=displayText.textContent+" + ",accumulated+=formatNumber(displayText.textContent),counter+=1,void(operation="add");"subtract"===operation?(accumulated-=formatNumber(displayText.textContent),display2.textContent=accumulated+" - "):"percent"===operation?displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}):"divide"===operation?(accumulated/=formatNumber(displayText.textContent),display2.textContent=accumulated+" / "):(accumulated+=formatNumber(displayText.textContent),display2.textContent=accumulated+" + "),displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}),counter+=1,operation="add"}else showError()};exports.addNumber=addNumber;var subtractNumber=function(){if("0"!==displayText.textContent||"divide"!==operation){if("result"===operation)return displayText.textContent="0",void(operation="subtract");if(!display2.textContent&&"0"===displayText.textContent)return display2.textContent="0 - ",accumulated=formatNumber(displayText.textContent),counter+=1,operation="subtract",void console.log("Entro aca!");if(!display2.textContent)return display2.textContent=displayText.textContent+" - ",accumulated=formatNumber(displayText.textContent),counter+=1,void(operation="subtract");if("0 - "===display2.textContent)return display2.textContent="- "+accumulated,accumulated-=formatNumber(displayText.textContent),displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}),counter+=1,void(operation="subtract");"add"===operation?(accumulated+=formatNumber(displayText.textContent),display2.textContent=accumulated+" + "):"percent"===operation?displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}):"divide"===operation?(accumulated/=formatNumber(displayText.textContent),display2.textContent=accumulated+" / "):(accumulated-=formatNumber(displayText.textContent),display2.textContent=accumulated+" - "),displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}),counter+=1,operation="subtract"}else showError()};exports.subtractNumber=subtractNumber;var multiplyNumber=function(){if("0"!==displayText.textContent||"divide"!==operation){if("result"===operation)return displayText.textContent="0",void(operation="multiply");if(!display2.textContent)return accumulated=formatNumber(displayText.textContent),display2.textContent=accumulated+" * ",counter+=1,void(operation="multiply");"subtract"===operation?(accumulated-=formatNumber(displayText.textContent),display2.textContent=accumulated+" - "):"divide"===operation?(accumulated/=formatNumber(displayText.textContent),display2.textContent=accumulated+" / "):(accumulated*=formatNumber(displayText.textContent),display2.textContent=accumulated+" * "),displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}),counter+=1,operation="multiply"}else showError()};exports.multiplyNumber=multiplyNumber;var divideNumber=function(){return"result"===operation?(displayText.textContent="0",void(operation="divide")):display2.textContent?void("0"!==displayText.textContent?("subtract"===operation?(accumulated-=formatNumber(displayText.textContent),display2.textContent=accumulated+" - "):(accumulated/=formatNumber(displayText.textContent),display2.textContent=accumulated+" / "),displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7}),counter+=1,operation="divide"):showError()):(accumulated=formatNumber(displayText.textContent),display2.textContent=displayText.textContent+" / ",counter+=1,void(operation="divide"))};exports.divideNumber=divideNumber;var percentNumber=function(){if("0"!==displayText.textContent||"divide"!==operation){if("result"===operation)return displayText.textContent="0",void(operation="percent");if(0===accumulated)return displayText.textContent="0",counter+=1,void(operation="percent");if(!display2.textContent)return display2.textContent=0,accumulated=0,counter+=1,void(operation="percent");var t=accumulated*formatNumber(displayText.textContent)/100;switch(operation){case"add":accumulated+=t,displayText.textContent=t,display2.textContent=display2.textContent+t;break;case"subtract":accumulated-=t,displayText.textContent=t,display2.textContent=display2.textContent+t;break;case"multiply":accumulated*=formatNumber(displayText.textContent)/100,displayText.textContent=formatNumber(displayText.textContent)/100,display2.textContent=display2.textContent+formatNumber(displayText.textContent)/100;break;case"divide":accumulated/=formatNumber(displayText.textContent)/100,displayText.textContent=formatNumber(displayText.textContent)/100,display2.textContent=display2.textContent+formatNumber(displayText.textContent)/100}counter+=1,operation="percent"}else showError()};exports.percentNumber=percentNumber;var resultNumber=function(){if(operation)if("0"!==displayText.textContent||"divide"!==operation){switch(operation){case"add":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=(accumulated+formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"subtract":"- "===display2.textContent?display2.textContent="- "+displayText.textContent:display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=(accumulated-formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"multiply":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=(accumulated*formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"divide":display2.textContent=display2.textContent+displayText.textContent+" =",displayText.textContent=(accumulated/formatNumber(displayText.textContent)).toLocaleString("es-ES",{maximumFractionDigits:7});break;case"percent":display2.textContent=display2.textContent+" =",displayText.textContent=accumulated.toLocaleString("es-ES",{maximumFractionDigits:7})}accumulated=formatNumber(displayText.textContent),operation="result"}else showError()};exports.resultNumber=resultNumber;var showError=function(){displayText.textContent="ERROR",display2.textContent="",display2.classList.remove("display2-bg"),accumulated=0,operation=""};exports.showError=showError;var backButton=function(){displayText.textContent&&(displayText.textContent.length<=2?displayText.textContent=0:displayText.textContent=displayText.textContent.slice(0,-1))};exports.backButton=backButton;
//# sourceMappingURL=operations.min.js.map
